# Настройка окружения

## Требования:
* сервер с GPU

## Настройка инфраструктуры:
### Yandex Cloud S3

См. отдельный файл

### UV-менеджер

* Установить [UV-менеджер](https://docs.astral.sh/uv/getting-started/installation/)
* Запустить команду для синхронизации окружения:
```bash
uv sync
```

### MLFlow tracking server
MLFlow разворачивается в докере на удаленном сервере.
* Подключен к S3, но НЕ ПРОКСИРУЕТ артефакты.
* По этой причине при логировании артефактов в среде выполнения экспериментов нужно иметь
  креды от S3 в системных переменных
* Бэкэнд хранилище - PostgreSQL. Доступно только изнутри Докер сети.

Для разворачивания MLFlow достаточно запустить docker-compose при наличии соответствующих
системных переменных. Пример - `.env.example`.
```bash
# если находимся в корне проекта
cd ./infra/compose/
# тут должен лежать .env, либо системные переменные должны быть заданы любым другим способом
sudo docker compose up --build -d
```

### DVC с бэкэндом Yandex Cloud S3.

* После команды `uv sync` dvc должен быть уже установлен
* Добавить креды Yandex Cloud в файл `agent-042/.dvc/config.local`:
```text
['remote "ycloud"']
    access_key_id = YCA...
    secret_access_key = YCM...
```

Про обращение с данными см. в agent-042/experiments/README.md
